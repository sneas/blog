<!DOCTYPE html>
<html lang="en-us">
    <head>
         
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>A problem with class inheritance</title>
        
        <link rel="icon" href="https://sneas.github.io/blog/favicon.ico">
        
        
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism.min.css">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

<style>

  html body {
    font-family: 'Raleway', sans-serif;
  background-color: white;
  }

  :root {
    --accent: #0366d6;
  --border-width:  0 ;
  }

</style>


<link rel="stylesheet" href="https://sneas.github.io/blog/css/main.css">



 


    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.min.js"></script>

     <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-javascript.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-typescript.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-bash.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-yaml.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-jsx.min.js"></script> 







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
 <meta name="generator" content="Hugo 0.55.6" />
        

        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135464443-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'UA-135464443-1');
        </script>
        
    </head>

    
    
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    

    <body>
         

        <nav class="navbar navbar-expand-md navbar-light bg-light mb-4">
            <div class="container">
                <span class="nav-brand"></span>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    
                    <ul class="navbar-nav mr-auto">
                        
                        <li class="nav-item"><a href="https://sneas.github.io/blog/" class="nav-link">Home</a></li>
                        
                        <li class="nav-item"><a href="https://sneas.github.io/blog/about/" class="nav-link">About</a></li>
                        
                    </ul>
                    

                    
                    <ul class="nav navbar-nav navbar-right">
                        
                        <li class="nav-item"><a href="https://github.com/sneas/" class="nav-link"><i class="fa fa-github"></i></a></li>
                        
                    </ul>
                    
                </div>
            </div>
        </nav>



<main class="container">

    <div class="item">
        
        

        <h1>A problem with class inheritance</h1>
        <h6 class="text-muted">
            2 minutes read
            | January 3, 2019
        </h6>
        
        <a href="https://sneas.github.io/blog/tags/oop" class="badge badge-light">oop</a>
        
        <a href="https://sneas.github.io/blog/tags/design" class="badge badge-light">design</a>
        
        <a href="https://sneas.github.io/blog/tags/inheritance" class="badge badge-light">inheritance</a>
        

    </div>


    <br> <div class="text-justify"><blockquote class="blockquote text-right">
  <p class="mb-0">Favor object composition over class inheritance.</p>
  <footer class="blockquote-footer">Gang of Four in <cite title="Design Patterns: Elements of Reusable Object-Oriented Software">Design Patterns: Elements of Reusable Object-Oriented Software</cite></footer>
</blockquote>

<p><a href="http://wiki.c2.com/?GangOfFour">GoF</a> stated this over two decades ago.
Some warmly accepted languages (Go, Rust) refused of inheritance at all.
But it seems many developers haven&rsquo;t gotten the problem and still do inheritance to share code between classes.
The code looks advanced at the first glance.
But evolves into a chimera in no time.</p>

<p>The intention of code&rsquo;s design is to be future proof and flexible. Ready for unpredictable changes. And inheritance in combination with changing business
requirements stand on the way of the perfect system based on our perfectly-crafted <code>BaseSolver</code> class.</p>

<p>Here is the diagram showing the beginning of disaster:</p>

<figure class="figure">
    <img class="figure-img" src="https://sneas.github.io/blog/images/inheritance/base-class.png" alt="The class diagram showing keeping common methods in Base class" width="600" />
    <figcaption class="figure-caption text-center">Figure 1. Sharing common methods in base class.</figcaption>
</figure>

<p>It looks good and nice: 2 instances. Similar in essence. Different in implementation. Share some base class&rsquo; methods.</p>

<p>The other day business decides to add the 3rd instance. And it needs only half of our <code>BaseSolver</code>&rsquo;s methods.
&ldquo;No problem&rdquo; we say and create another <code>VeryBaseSolver</code> with only half of methods implemented:</p>

<figure class="figure">
    <img class="figure-img" src="https://sneas.github.io/blog/images/inheritance/very-base-class.png" alt="The class diagram showing creating VeryBase class out of the necessity to borrow couple of methods from Base class" width="800" />
    <figcaption class="figure-caption text-center">Figure 2. Establishing a new base class.</figcaption>
</figure>

<p>But something smells in this design. It doesn&rsquo;t look that good anymore.
Things get worse as soon as business needs a <code>ConcreteSolver4</code> with <code>method1</code> and <code>method2</code>.
There are multiple ways of providing this but none of them are semantically correct.</p>
</div>

    
    

    

    

</main>

        <footer class="footer text-center">

            <div class="copyright text-muted">&copy; All rights reserved.</div>

        </footer>
       
    </body>

</html>

